@using Uploadify.Authorization.Models
@attribute [Permission]
@attribute [Route(PageRoutes.Management)]

@inject IStringLocalizer<TranslationDictionary> Localizer

<PageTitle>@Localizer[Translations.Pages.Management.Title]</PageTitle>
<MudText Typo="Typo.h1">@Localizer[Translations.Pages.Management.Title]</MudText>
<MudText Class="mt-4"
         Typo="Typo.body1">
    @Localizer[Translations.Pages.Management.Description]
</MudText>
<MudTabs Class="mt-8"
         Rounded="true">
    <PermissionView Permission="Permission.ViewUsers">
        <Authorized>
            <MudTabPanel Icon="@Icons.Material.Rounded.PeopleAlt"
                         Text="@Localizer[Translations.Pages.Management.UsersLabel]">
                <ChildContent>
                    <MudText Class="mt-4 mb-8"
                             Typo="Typo.body1">
                        @Localizer[Translations.Pages.Management.UsersDescription]
                    </MudText>
                </ChildContent>
            </MudTabPanel>
        </Authorized>
        <NotAuthorized>
            <MudTabPanel Disabled="true"
                         Icon="@Icons.Material.Rounded.PeopleAlt"
                         Text="@Localizer[Translations.Pages.Management.UsersLabel]"/>
        </NotAuthorized>
    </PermissionView>
    <PermissionView Permission="Permission.ViewRoles">
        <Authorized>
            <MudTabPanel Icon="@Icons.Material.Rounded.AdminPanelSettings"
                         Text="@Localizer[Translations.Pages.Management.PermissionsLabel]">
                <ChildContent>
                    <MudText Class="mt-4 mb-8"
                             Typo="Typo.body1">
                        @Localizer[Translations.Pages.Management.PermissionsDescription]
                    </MudText>
                    <PermissionDashboard Summary="Enumerable.Empty<PermissionCard.PermissionOverview>()"/>
                </ChildContent>
            </MudTabPanel>
        </Authorized>
        <NotAuthorized>
            <MudTabPanel Disabled="true"
                         Icon="@Icons.Material.Rounded.AdminPanelSettings"
                         Text="@Localizer[Translations.Pages.Management.PermissionsLabel]"/>
        </NotAuthorized>
    </PermissionView>
</MudTabs>
