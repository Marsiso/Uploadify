@using Uploadify.Client.Web.Components.Shared
@using Uploadify.Client.Web.Components.Management.Permissions
@attribute [Permission(Permission.ViewUsers | Permission.ViewRoles | Permission.ViewPermissions)]
@attribute [Route(PageRoutes.Management)]

@inject IStringLocalizer<TranslationDictionary> Localizer

<Heading Title="@Localizer[Translations.Pages.Management.Title]"/>
<MudText Class="mt-4"
         Typo="@Typo.body1">
    @Localizer[Translations.Pages.Management.Description]
</MudText>
<MudTabs Class="mt-8"
         Rounded="true">
    <PermissionView Permission="@Permission.ViewUsers">
        <Authorized>
            <MudTabPanel Icon="@Icons.Material.Rounded.PeopleAlt"
                         Text="@Localizer[Translations.Pages.Management.UsersLabel]">
                <ChildContent>
                    <MudText Class="mt-4 mb-8"
                             Typo="@Typo.body1">
                        @Localizer[Translations.Pages.Management.UsersDescription]
                    </MudText>
                </ChildContent>
            </MudTabPanel>
        </Authorized>
        <NotAuthorized>
            <MudTabPanel Disabled
                         Icon="@Icons.Material.Rounded.PeopleAlt"
                         Text="@Localizer[Translations.Pages.Management.UsersLabel]"/>
        </NotAuthorized>
    </PermissionView>
    <PermissionView Permission="@Permission.ViewPermissions">
        <Authorized>
            <MudTabPanel Icon="@Icons.Material.Rounded.AdminPanelSettings"
                         Text="@Localizer[Translations.Pages.Management.PermissionsLabel]">
                <ChildContent>
                    <MudText Class="mt-4 mb-8"
                             Typo="@Typo.body1">
                        @Localizer[Translations.Pages.Management.PermissionsDescription]
                    </MudText>
                    <PermissionDashboard/>
                </ChildContent>
            </MudTabPanel>
        </Authorized>
        <NotAuthorized>
            <MudTabPanel Disabled
                         Icon="@Icons.Material.Rounded.AdminPanelSettings"
                         Text="@Localizer[Translations.Pages.Management.PermissionsLabel]"/>
        </NotAuthorized>
    </PermissionView>
</MudTabs>
